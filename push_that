#!bin/bash

echo "===Config==="
git config --global --add safe.directory $PWD
echo "===git Add==="
STATUS=($(git status -s))
COMMIT=""
SYM=("AM", "M", "MM")
for (( c=0; c<${#STATUS[@]}; c++ ))
do
    for elem in ${SYM[@]}
    do
    if [[ ${STATUS[$c]} = "??" || ${STATUS[$c]} = $elem ]]
    then
        echo ${STATUS[$c + 1]}
        git add ${STATUS[$c + 1]}
        if [[ ${STATUS[$c]} = "??" ]]
        then
            TMP="[ADD]"
        else
            TMP="[MOD]"
        fi
        COMMIT+=$TMP" "${STATUS[$c + 1]}", "
    fi
    done
done;
echo $COMMIT
git commit -m "$COMMIT"
git push